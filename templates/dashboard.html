<!--
  Raspberry Pi Room Monitor Dashboard
  -----------------------------------
  Year: 2025
  Author: Ethan Newton
  Prototype project. Free to use, modify, and distribute.
  No copyright claims. This project is intended to be open-source and freely licensed for personal use.
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Raspberry Pi Room Monitor</title>

  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="/static/images/favicon.ico">

  <!-- Stylesheets -->
  <link rel="stylesheet" href="{{ url_for('static', filename='themes.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='dashboard.css') }}">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
</head>
<body>

  <!--
    ========================
    Notification Bar
    Appears at top of page for temporary messages
    ========================
  -->
  <div id="notification-bar" class="notification-bar"></div>

  <!--
    ========================
    Dashboard Container
    Contains sidebar + main content
    ========================
  -->

  <div class="dashboard-container">

    <!--
      ========================
      Sidebar
      Contains logo, setpoints and theme selector
      ========================
    -->

    <aside class="sidebar">

      <!-- Top Section: Logo + Title -->
      <div class="sidebar-top">

        <!-- Raspberry Pi logo paths when opening the svg "/static/images/raspberry-pi-logo.svg" in Text Editor -->
        <svg class="logo" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" fill="currentColor">
          <path d="M21.479 23.12c-1.14 1.317-1.776 3.719-0.943 4.495 0.792 0.593 2.933 0.521 4.511-1.641 1.151-1.443 0.76-3.859 0.109-4.5-0.973-0.739-2.369 0.22-3.677 1.663zM10.74 23.516c-1.213-1.385-2.787-2.209-3.803-1.599-0.683 0.509-0.807 2.249 0.161 3.957 1.437 2.032 3.464 2.24 4.297 1.745 0.88-0.651 0.401-2.855-0.656-4.104zM16.213 27.708c-1.473-0.031-3.735 0.589-3.703 1.38-0.027 0.537 1.776 2.095 3.609 2.016 1.765 0.041 3.593-1.52 3.573-2.197-0.005-0.699-1.996-1.235-3.475-1.177zM16.115 9.12c-1.703-0.041-3.339 1.244-3.339 1.989-0.005 0.907 1.344 1.833 3.349 1.86 2.057 0.009 3.353-0.745 3.375-1.683 0.021-1.057-1.86-2.183-3.36-2.167zM12.016 9.828c-2.844-0.459-5.213 1.199-5.12 4.255 0.093 1.177 6.172-4.052 5.125-4.233zM25.016 14.161c0.093-3.036-2.276-4.692-5.125-4.235-1.047 0.183 5.031 5.417 5.125 4.235zM25.5 15.26c-1.651-0.437-0.557 6.735 0.787 6.156 1.479-1.161 1.953-4.599-0.787-6.135zM5.636 21.495c1.343 0.599 2.437-6.573 0.785-6.135-2.733 1.541-2.265 4.973-0.785 6.156zM18.193 13.563c-1.532 1-1.808 3.24-0.615 4.995 1.187 1.76 3.391 2.416 4.916 1.437 1.532-0.973 1.808-3.213 0.62-4.995-1.193-1.776-3.396-2.416-4.921-1.416zM14.063 13.745c-1.527-0.98-3.735-0.339-4.917 1.416-1.192 1.781-0.916 4.016 0.615 5.016 1.527 1 3.729 0.359 4.923-1.417 1.177-1.76 0.896-4-0.62-4.995zM19.885 23.292c-0.011-1.855-1.667-3.355-3.703-3.333-2.037 0.020-3.683 1.515-3.672 3.375v0.036c0.011 1.86 1.672 3.36 3.708 3.339 2.036 0 3.677-1.515 3.656-3.353v-0.043zM24.167 3.115c-3.079 1.579-4.869 2.839-5.855 3.916 0.505 2 3.125 2.079 4.089 2.016-0.199-0.077-0.365-0.197-0.423-0.353 0.24-0.163 1.095-0.021 1.693-0.344-0.229-0.037-0.339-0.079-0.443-0.261 0.563-0.176 1.167-0.317 1.52-0.619-0.187 0-0.369 0.041-0.619-0.12 0.5-0.256 1.036-0.48 1.457-0.876-0.26 0-0.541 0-0.619-0.099 0.457-0.281 0.843-0.583 1.167-0.943-0.36 0.063-0.516 0.027-0.605-0.036 0.349-0.344 0.792-0.641 1-1.084-0.271 0.104-0.52 0.12-0.697 0 0.125-0.255 0.631-0.416 0.921-1.036-0.285 0.041-0.588 0.063-0.651 0 0.136-0.521 0.36-0.817 0.584-1.14-0.609 0-1.537 0-1.491-0.037l0.376-0.38c-0.595-0.161-1.204 0.021-1.647 0.161-0.197-0.14 0-0.344 0.245-0.541-0.521 0.083-0.975 0.183-1.375 0.344-0.219-0.204 0.135-0.38 0.317-0.584-0.797 0.161-1.12 0.36-1.459 0.557-0.24-0.219-0.020-0.416 0.141-0.593-0.6 0.219-0.901 0.495-1.219 0.755-0.12-0.14-0.281-0.239-0.084-0.599-0.416 0.24-0.74 0.521-0.979 0.839-0.256-0.177-0.156-0.401-0.156-0.599-0.443 0.359-0.72 0.719-1.057 1.083-0.084-0.041-0.141-0.203-0.183-0.463-1.037 1-2.521 3.5-0.38 4.473 1.796-1.459 3.973-2.536 6.375-3.339zM7.823 3.115c2.396 0.803 4.557 1.88 6.371 3.359 2.124-1 0.656-3.5-0.381-4.473-0.052 0.255-0.109 0.437-0.176 0.479-0.339-0.359-0.615-0.724-1.052-1.083 0 0.203 0.104 0.443-0.157 0.599-0.233-0.317-0.547-0.599-0.963-0.839 0.197 0.344 0.031 0.443-0.079 0.599-0.317-0.296-0.62-0.577-1.197-0.796 0.161 0.197 0.4 0.401 0.161 0.62-0.319-0.199-0.661-0.401-1.437-0.563 0.176 0.197 0.536 0.4 0.317 0.604-0.423-0.167-0.88-0.287-1.38-0.349 0.239 0.203 0.453 0.385 0.255 0.541-0.459-0.161-1.073-0.339-1.672-0.176l0.375 0.375c0.043 0.052-0.875 0.041-1.495 0.047 0.224 0.303 0.453 0.599 0.584 1.14-0.063 0.057-0.36 0.021-0.645 0 0.301 0.6 0.796 0.761 0.916 1.021-0.177 0.125-0.417 0.099-0.697 0 0.219 0.417 0.661 0.719 1 1.079-0.1 0.057-0.24 0.099-0.62 0.052 0.317 0.344 0.697 0.656 1.161 0.937-0.084 0.093-0.365 0.088-0.641 0.099 0.417 0.407 0.959 0.62 1.459 0.885-0.26 0.183-0.443 0.141-0.62 0.141 0.339 0.296 0.959 0.437 1.521 0.615-0.125 0.181-0.219 0.224-0.464 0.26 0.599 0.339 1.437 0.183 1.683 0.359-0.063 0.161-0.219 0.281-0.421 0.365 0.957 0.057 3.599-0.021 4.099-2.021-0.985-1.077-2.781-2.339-5.86-3.896zM10.136 0.136c0.312-0.005 0.577 0.181 0.869 0.271 0.703-0.229 0.864 0.083 1.208 0.213 0.771-0.161 1.005 0.187 1.375 0.557l0.428-0.016c1.161 0.677 1.739 2.052 1.943 2.756 0.203-0.704 0.781-2.079 1.943-2.756l0.427 0.011c0.369-0.375 0.604-0.719 1.375-0.557 0.349-0.141 0.505-0.437 1.215-0.219 0.443-0.141 0.828-0.5 1.411-0.063 0.489-0.197 0.969-0.26 1.391 0.12 0.661-0.079 0.869 0.083 1.031 0.281 0.147 0 1.079-0.141 1.511 0.479 1.084-0.12 1.423 0.62 1.032 1.317 0.224 0.339 0.453 0.663-0.063 1.303 0.197 0.36 0.077 0.735-0.365 1.213 0.125 0.5-0.099 0.844-0.495 1.12 0.079 0.683-0.64 1.084-0.839 1.219-0.083 0.401-0.244 0.781-1.061 0.979-0.12 0.6-0.62 0.699-1.1 0.819 1.584 0.9 2.917 2.077 2.917 4.973l0.244 0.401c1.797 1.079 3.417 4.536 0.896 7.355-0.156 0.875-0.437 1.495-0.681 2.192-0.36 2.817-2.776 4.136-3.412 4.297-0.921 0.697-1.917 1.359-3.255 1.817-1.261 1.281-2.636 1.781-3.996 1.781h-0.119c-1.38 0-2.756-0.5-4.016-1.781-1.344-0.459-2.344-1.115-3.265-1.817-0.641-0.156-3.043-1.475-3.417-4.292-0.249-0.697-0.525-1.339-0.687-2.219-2.527-2.817-0.912-6.271 0.885-7.355l0.229-0.396c0-2.895 1.337-4.077 2.916-4.973-0.479-0.12-0.959-0.219-1.093-0.823-0.823-0.199-0.985-0.579-1.063-0.98-0.199-0.135-0.917-0.536-0.839-1.233-0.401-0.281-0.62-0.62-0.5-1.141-0.417-0.459-0.536-0.859-0.36-1.219-0.52-0.64-0.281-0.979-0.061-1.297-0.381-0.703-0.037-1.457 1.041-1.337 0.416-0.62 1.359-0.48 1.495-0.48 0.161-0.203 0.38-0.38 1.041-0.301 0.417-0.381 0.901-0.319 1.396-0.136 0.203-0.161 0.38-0.219 0.541-0.219z"/>
        </svg>

        <!-- Title under logo -->
        <div class="logo-title">Raspberry Pi<br>Room Monitor</div>
      </div>

      <!-- Bottom Section: Setpoints, Theme Selection and Light/Dark Theme Toggle -->
      <div class="sidebar-bottom">
        <form id="sidebar-settings" novalidate>         <!-- Prevent HTML validation, taken care of by JavaScript -->

          <!-- ==== Setpoints Section ==== -->
          <div class="form-section">
            <h4 class="section-title">Setpoints</h4>

            <!-- Temperature Min/Max -->            
            <h5 class="subtitle">Temperature (°C)</h5>
            <div class="input-row">
              <label>Minimum</label>
              <input name="min_temp" type="number" step="0.5" min="-40" max="80">      <!-- Keeps min/max for input field -->
            </div>
            <div class="input-row">
              <label>Maximum</label>
              <input name="max_temp" type="number" step="0.5" min="-40" max="80">      <!-- Keeps min/max for input field -->
            </div>

            <!-- Humidity Min/Max -->
            <h5 class="subtitle">Humidity (%RH)</h5>
            <div class="input-row">
              <label>Minimum</label>
              <input name="min_hum" type="number" step="0.5" min="0" max="100">         <!-- Keeps min/max for input field -->
            </div>
            <div class="input-row">
              <label>Maximum</label>
              <input name="max_hum" type="number" step="0.5" min="0" max="100">         <!-- Keeps min/max for input field -->
            </div>
          </div>

          <!-- Horizontal Divider -->
          <hr class="divider-horizontal">

          <!-- Save Button -->
          <button id="save-setpoints" class="save-button">Save Setpoints</button>

          <!-- Horizontal Divider -->
          <hr class="divider-horizontal">

          <!-- ==== Theme Selection ==== -->
          <div class="form-section">
            <div class="input-row theme-row">
              <label for="theme-select">Theme</label>
              <select id="theme-select" class="form-select">
                <option value="default">Default</option>
                <option disabled>────────────────────────</option>
                <option value="linux-mint">Linux Mint</option>
                <option value="windows">Windows</option>
                <option value="raspberry-pi">Raspberry Pi</option>
                <option disabled>────────────────────────</option>
                <option value="solarized">Solarized</option>
                <option value="mirage">Mirage</option>
                <option value="horizon">Horizon</option>
                <option value="sunset">Sunset</option>
                <option disabled>────────────────────────</option>
                <option value="gameboy">Game Boy</option>
                <option value="matrix">Matrix</option>
                <option value="retro">Retro</option>
              </select>
            </div>
          </div>

          <!-- Light/Dark Theme Toggle -->
          <div class="theme-toggle">
            <span>Light</span>
            <label class="switch">
              <input type="checkbox" id="theme-toggle">
              <span class="slider"></span>
            </label>
            <span>Dark</span>
          </div>

        </form>
      </div>
    </aside>

    <!--
      ========================
      Main Content Area
      Contains Current Data, Data Filter and Chart
      ========================
    -->

    <main class="main-content">

      <!-- Page Header: Title + Current Data -->
      <div class="page-header">
        <h1>Dashboard</h1>

        <div class="current-data">
          <!-- Temperature icon paths when opening the svg "/static/images/temperature-icon.svg" in Text Editor -->
          <svg class="temperature-icon" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" fill="currentColor">
            <path d="M20.75 6.008c0-6.246-9.501-6.248-9.5 0v13.238c-1.235 1.224-2 2.921-2 4.796 0 3.728 3.022 6.75 6.75 6.75s6.75-3.022 6.75-6.75c0-1.875-0.765-3.572-2-4.796l-0.001-0zM16 29.25c-2.9-0-5.25-2.351-5.25-5.251 0-1.553 0.674-2.948 1.745-3.909l0.005-0.004 0.006-0.012c0.13-0.122 0.215-0.29 0.231-0.477l0-0.003c0.001-0.014 0.007-0.024 0.008-0.038l0.006-0.029v-13.52c-0.003-0.053-0.005-0.115-0.005-0.178 0-1.704 1.381-3.085 3.085-3.085 0.060 0 0.12 0.002 0.179 0.005l-0.008-0c0.051-0.003 0.11-0.005 0.17-0.005 1.704 0 3.085 1.381 3.085 3.085 0 0.063-0.002 0.125-0.006 0.186l0-0.008v13.52l0.006 0.029 0.007 0.036c0.015 0.191 0.101 0.36 0.231 0.482l0 0 0.006 0.012c1.076 0.966 1.75 2.361 1.75 3.913 0 2.9-2.35 5.25-5.25 5.251h-0zM16.75 21.367v-7.866c0-0.414-0.336-0.75-0.75-0.75s-0.75 0.336-0.75 0.75v0 7.866c-1.164 0.338-2 1.394-2 2.646 0 1.519 1.231 2.75 2.75 2.75s2.75-1.231 2.75-2.75c0-1.252-0.836-2.308-1.981-2.641l-0.019-0.005zM26.5 2.25c-1.795 0-3.25 1.455-3.25 3.25s1.455 3.25 3.25 3.25c1.795 0 3.25-1.455 3.25-3.25v0c-0.002-1.794-1.456-3.248-3.25-3.25h-0zM26.5 7.25c-0.966 0-1.75-0.784-1.75-1.75s0.784-1.75 1.75-1.75c0.966 0 1.75 0.784 1.75 1.75v0c-0.001 0.966-0.784 1.749-1.75 1.75h-0z"></path>
          </svg>
          <span id="current-temperature">-- °C</span>

          <!-- Vertical Divider -->
          <span class="divider-vertical"></span>

          <!-- Humidity icon paths when opening the svg "/static/images/humidity-icon.svg" in Text Editor -->
          <svg class="humidity-icon" viewBox="0 0 328.611 328.611" xmlns="http://www.w3.org/2000/svg" fill="currentColor">
            <path d="M209.306,50.798c-2.452-3.337-7.147-4.055-10.485-1.602c-3.338,2.453-4.055,7.147-1.603,10.485
		c54.576,74.266,66.032,123.541,66.032,151.8c0,27.691-8.272,52.794-23.293,70.685c-17.519,20.866-42.972,31.446-75.651,31.446
		c-73.031,0-98.944-55.018-98.944-102.131c0-52.227,28.103-103.234,51.679-136.829c25.858-36.847,52.11-61.415,52.37-61.657
		c3.035-2.819,3.209-7.565,0.39-10.6c-2.819-3.034-7.565-3.209-10.599-0.39c-1.11,1.031-27.497,25.698-54.254,63.765
		c-24.901,35.428-54.586,89.465-54.586,145.71c0,31.062,9.673,59.599,27.236,80.353c20.361,24.061,50.345,36.779,86.708,36.779
		c36.794,0,66.926-12.726,87.139-36.801c17.286-20.588,26.806-49.117,26.806-80.33C278.25,156.216,240.758,93.597,209.306,50.798z"
		/>
            <path d="M198.43,148.146l-95.162,95.162c-2.929,2.929-2.929,7.678,0,10.606c1.465,1.464,3.385,2.197,5.304,2.197
		s3.839-0.732,5.304-2.197l95.162-95.162c2.929-2.929,2.929-7.678,0-10.606C206.107,145.217,201.359,145.217,198.43,148.146z"/>
            <path d="M191.965,207.899c-13.292,0-24.106,10.814-24.106,24.106s10.814,24.106,24.106,24.106s24.106-10.814,24.106-24.106
		S205.257,207.899,191.965,207.899z M191.965,241.111c-5.021,0-9.106-4.085-9.106-9.106s4.085-9.106,9.106-9.106
		s9.106,4.085,9.106,9.106S196.986,241.111,191.965,241.111z"/>
            <path d="M125.178,194.162c13.292,0,24.106-10.814,24.106-24.106s-10.814-24.106-24.106-24.106s-24.106,10.814-24.106,24.106
		S111.886,194.162,125.178,194.162z M125.178,160.949c5.021,0,9.106,4.085,9.106,9.106s-4.085,9.106-9.106,9.106
		c-5.021,0-9.106-4.085-9.106-9.106S120.156,160.949,125.178,160.949z"/>
          </svg>
          <span id="current-humidity">-- %RH</span>

          <!-- Vertical Divider -->
          <span class="divider-vertical"></span>

          <!-- Reload icon paths when opening the svg "/static/images/reload-icon.svg" in Text Editor -->
          <button id="reload-button" class="reload-button" type="button">
            <svg class="reload-icon" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
              <path d="M27.1 14.313V5.396L24.158 8.34c-2.33-2.325-5.033-3.503-8.11-3.503C9.902 4.837 4.901 9.847 4.899 16c.001 6.152 5.003 11.158 11.15 11.16 4.276 0 9.369-2.227 10.836-8.478l.028-.122h-3.23l-.022.068c-1.078 3.242-4.138 5.421-7.613 5.421a8 8 0 0 1-5.691-2.359A7.993 7.993 0 0 1 8 16.001c0-4.438 3.611-8.049 8.05-8.049 2.069 0 3.638.58 5.924 2.573l-3.792 3.789H27.1z"/>
            </svg>
          </button>
        </div>
      </div>

      <!-- Horizontal Divider -->
      <hr class="divider-horizontal">

      <!-- ==== Controls: Date Filter ==== -->
      <div class="controls">
        <label for="dateStart">From:</label>
        <input type="date" id="dateStart" autocomplete="off">

        <label for="dateEnd">To:</label>
        <input type="date" id="dateEnd" autocomplete="off">

        <!-- Vertical Divider -->
        <span class="divider-vertical"></span>

        <button id="apply-dates" class="apply-button">Apply</button>
      </div>

      <!-- ==== Chart Section ==== -->
      <div class="chart-container">
        <canvas id="combinedChart"></canvas>
      </div>
    </main>

  </div>
  <!-- End of dashboard-container -->

  <!-- ==== Scripts ==== -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="{{ url_for('static', filename='dashboard.js') }}"></script>
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

</body>
</html>
